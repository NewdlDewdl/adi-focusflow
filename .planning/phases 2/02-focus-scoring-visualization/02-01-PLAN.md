---
phase: 02-focus-scoring-visualization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/lib/utils.ts
  - src/components/ui/Button.tsx
  - src/components/landing/Hero.tsx
  - src/app/page.tsx
  - src/app/session/page.tsx
autonomous: true

must_haves:
  truths:
    - "User sees an animated landing page at / with cycling hero text and a CTA to start a session"
    - "User clicks CTA and navigates to /session where the detection pipeline loads"
  artifacts:
    - path: "src/lib/utils.ts"
      provides: "cn() utility for class name merging"
      contains: "twMerge"
    - path: "src/components/ui/Button.tsx"
      provides: "Reusable Button with variant/size props"
      exports: ["Button", "buttonVariants"]
    - path: "src/components/landing/Hero.tsx"
      provides: "Animated hero with cycling words"
      contains: "AnimatePresence"
    - path: "src/app/page.tsx"
      provides: "Landing page rendering Hero"
      contains: "Hero"
    - path: "src/app/session/page.tsx"
      provides: "Session page with detection pipeline"
      contains: "ClientDetectionLoader"
  key_links:
    - from: "src/components/landing/Hero.tsx"
      to: "/session"
      via: "Next.js Link or router.push in CTA button"
      pattern: "/session"
    - from: "src/app/page.tsx"
      to: "src/components/landing/Hero.tsx"
      via: "import"
      pattern: "import.*Hero"
    - from: "src/app/session/page.tsx"
      to: "src/components/detection/ClientDetectionLoader.tsx"
      via: "import"
      pattern: "import.*ClientDetectionLoader"
---

<objective>
Install Phase 2 dependencies (framer-motion, recharts, lucide-react, cva, clsx, tailwind-merge), create UI primitives (cn utility, Button component), build the animated Hero landing page with cycling text, and set up separate route routing (/ = landing, /session = detection).

Purpose: Establishes the visual foundation and navigation structure for Phase 2. The landing page with animated hero is a LOCKED user requirement. The separate routing pattern cleanly separates the marketing/demo landing from the full-screen detection session.

Output: Landing page at / with animated hero, session page at /session with detection pipeline, reusable Button and cn utility for all Phase 2 components.
</objective>

<execution_context>
@/Users/adiga/.claude/get-shit-done/workflows/execute-plan.md
@/Users/adiga/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-focus-scoring-visualization/02-CONTEXT.md
@.planning/phases/02-focus-scoring-visualization/02-RESEARCH.md
@src/app/page.tsx
@src/components/detection/ClientDetectionLoader.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies and create UI primitives (cn utility + Button component)</name>
  <files>
    package.json
    src/lib/utils.ts
    src/components/ui/Button.tsx
  </files>
  <action>
    1. Install Phase 2 dependencies:
       ```bash
       npm install framer-motion recharts lucide-react class-variance-authority clsx tailwind-merge
       ```
       Note: Install `framer-motion` per user decision. Import from `framer-motion`.

    2. Create `src/lib/utils.ts` with the `cn()` utility:
       ```typescript
       import { clsx, type ClassValue } from 'clsx';
       import { twMerge } from 'tailwind-merge';

       export function cn(...inputs: ClassValue[]) {
         return twMerge(clsx(inputs));
       }
       ```

    3. Create `src/components/ui/Button.tsx` using shadcn/ui pattern with CVA:
       - Variants: default (blue-500), outline (border gray-700), ghost (text gray-300)
       - Sizes: default (h-10), sm (h-9), lg (h-12 text-base), icon (h-10 w-10)
       - Dark theme: focus ring blue-400, ring-offset gray-950
       - Use `cn()` from utils.ts
       - Export both `Button` and `buttonVariants`
       - Use React.forwardRef
       - Do NOT install @radix-ui/react-slot (unnecessary for hackathon)

    See 02-RESEARCH.md "Button Component" code example for exact implementation.
  </action>
  <verify>
    - `npm ls framer-motion recharts lucide-react class-variance-authority clsx tailwind-merge` shows all installed
    - `src/lib/utils.ts` exists and exports `cn`
    - `src/components/ui/Button.tsx` exists and exports `Button` and `buttonVariants`
    - `npx tsc --noEmit` compiles without errors
  </verify>
  <done>
    All 6 dependencies installed. cn() utility and Button component created and type-check clean.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create animated Hero landing page with routing</name>
  <files>
    src/components/landing/Hero.tsx
    src/app/page.tsx
    src/app/session/page.tsx
  </files>
  <action>
    1. Create `src/components/landing/Hero.tsx` as a 'use client' component:
       - Cycling words animation using AnimatePresence from `framer-motion` with mode="wait"
       - Words: ["real-time", "AI-powered", "intelligent", "webcam-based"]
       - Cycle interval: 2500ms via setInterval in useEffect
       - Animation: fade+slide (opacity 0 y:20 -> opacity 1 y:0 -> opacity 0 y:-20), duration 0.3s easeInOut
       - Cycling word rendered as inline-block span with text-blue-400
       - Hero heading: "Stay focused with" + cycling word + "coaching"
       - Subheading: Emphasize privacy-first, browser-based, real-time feedback, no recording
         Example: "AI-powered focus detection that runs entirely in your browser. Your video never leaves your device."
       - Primary CTA: Button (lg size) with text "Start Focus Session" linking to /session
         Use Next.js Link component wrapping the Button, or use router.push on click
       - Secondary text or badge: "Built for Hacklahoma 2026" or similar (per CONTEXT.md suggestion)
       - Use lucide-react icons sparingly (e.g., ArrowRight on CTA, Eye or Camera icon near privacy text)
       - Dark theme: bg-gray-950, text-white, centered layout with max-w-4xl
       - Add fade-in animation on the entire hero section using motion.div from `framer-motion` (initial opacity:0, animate opacity:1)

       See 02-RESEARCH.md "Pattern 3: AnimatePresence mode=wait" for cycling word implementation.

    2. Update `src/app/page.tsx`:
       - Replace current content (which has ClientDetectionLoader) with Hero landing page
       - Import Hero from @/components/landing/Hero
       - Keep the dark bg-gray-950 styling
       - Remove the FocusFlow header (Hero component handles its own branding)
       - Remove ClientDetectionLoader import (moved to session page)

    3. Create `src/app/session/page.tsx`:
       - Move the detection pipeline here from the old page.tsx
       - Import ClientDetectionLoader from @/components/detection/ClientDetectionLoader
       - Include the FocusFlow header bar (the fixed header with "FocusFlow" branding from the old page.tsx)
       - Wrap in main with min-h-screen bg-gray-950 text-white

    Routing approach: `/` = Hero landing page, `/session` = detection session. This is Claude's discretion per CONTEXT.md, and the research recommends this pattern for clean separation.
  </action>
  <verify>
    - `src/components/landing/Hero.tsx` exists with 'use client' directive
    - `src/app/page.tsx` imports and renders Hero (no ClientDetectionLoader)
    - `src/app/session/page.tsx` exists and imports ClientDetectionLoader
    - `npx tsc --noEmit` compiles without errors
    - Dev server: navigating to `/` shows animated hero with cycling text
    - Dev server: clicking CTA navigates to `/session`
    - Dev server: `/session` shows the detection pipeline (permission gate, webcam)
  </verify>
  <done>
    Landing page at / renders animated Hero with cycling words, privacy messaging, and "Start Focus Session" CTA. Session page at /session loads the detection pipeline. Navigation between them works.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Landing page at `/` shows animated hero with cycling words and CTA button
3. Clicking CTA navigates to `/session`
4. Session page at `/session` shows the detection pipeline (unchanged from Phase 1)
5. All new dependencies resolve correctly
</verification>

<success_criteria>
- Animated landing page with cycling hero text visible at /
- Detection session accessible at /session
- Button component and cn utility available for subsequent plans
- All Phase 2 dependencies installed
</success_criteria>

<output>
After completion, create `.planning/phases/02-focus-scoring-visualization/02-01-SUMMARY.md`
</output>
